<!DOCTYPE module SYSTEM "module.dtd">

<module name="titusmodule">
	<doc>
		<description>This module stabilizes a quadcopter in 3 axis using IMU+vision only</description>

	</doc>
	<!-- add defines for documentation
	<define name="OPTICAL_FLOW_LANDING_AGL_ID" value="ABI_BROADCAST" description="Sender id of the AGL (sonar) ABI message"/>
    <section name="OPTICAL_FLOW_LANDING" prefix="OPTICAL_FLOW_LANDING_">
      <define name="PGAIN" value="0.40" description="P gain on height error"/>
      <define name="IGAIN" value="0.00" description="I gain on summed height error"/>
      <define name="DGAIN" value="0.00" description="D gain on summed height error"/>
      <define name="VISION_METHOD" value="1" description="0 = fake vision, 1 = real vision"/>
      <define name="CONTROL_METHOD" value="0" description="0 = fixed gain control, 1 = adaptive gain control"/>
      <define name="COV_METHOD" value="0" description="0 = cov(uz, div), 1 = cov(div_past, div)"/>
    </section>-->
	<settings>
		<dl_settings>
			<dl_settings name="TitusModule">
				<dl_setting var="ofmethode" min="0" step="1" max="1" module="titusmodule/titusmodule" values="LK|EF" shortname="Optical Flow methode"/>
				<dl_setting var="batsize" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Small|Large" shortname="Battery Size"/>
				<dl_setting var="magicfactorX" min="0" step="0.001" max="10" module="titusmodule/titusmodule" shortname="magicfactorX"/>
				<dl_setting var="magicfactorY" min="0" step="0.001" max="10" module="titusmodule/titusmodule" shortname="magicfactorY"/>
				<dl_setting var="oscphi" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Off|On" shortname="oscphi"/>
				<dl_setting var="osctheta" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Off|On" shortname="osctheta"/>
			</dl_settings>
		</dl_settings>
	</settings>

	<header>
		<file name="titusmodule.h" />
	</header>

	<init fun="titusmodule_init()" />
	<periodic fun="titusmodule_periodic()" start="titusmodule_start()"
		stop="titusmodule_stop()" autorun="FALSE" />

	<makefile target="ap">
		<file name="titusmodule.c" />
	</makefile>
</module>

