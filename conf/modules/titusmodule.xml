<!DOCTYPE module SYSTEM "module.dtd">

<module name="titusmodule">
	<doc>
		<description>This module stabilizes a quadcopter in 3 axis using IMU+vision only</description>

	</doc>
	<!-- add defines for documentation
	<define name="OPTICAL_FLOW_LANDING_AGL_ID" value="ABI_BROADCAST" description="Sender id of the AGL (sonar) ABI message"/>
    <section name="OPTICAL_FLOW_LANDING" prefix="OPTICAL_FLOW_LANDING_">
      <define name="PGAIN" value="0.40" description="P gain on height error"/>
     </section>-->
	<settings>
		<dl_settings>
			<dl_settings name="TitusModule">
				<dl_setting var="ofmethode" min="0" step="1" max="1" module="titusmodule/titusmodule" values="LK|EF" shortname="Optical Flow methode"/>
				<dl_setting var="nominalthrust" min="0" step="0.01" max="1" module="titusmodule/titusmodule" shortname="nominalthrust"/>
				
				<dl_setting var="magicfactorX" min="0" step="0.001" max="10" module="titusmodule/titusmodule" shortname="magicfactorX"/>
				<dl_setting var="magicfactorY" min="0" step="0.001" max="10" module="titusmodule/titusmodule" shortname="magicfactorY"/>
				
				<dl_setting var="oscphi" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Off|On" shortname="oscphi"/>
				<dl_setting var="osctheta" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Off|On" shortname="osctheta"/>
								
				<dl_setting var="performFFtakeoff" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Off|On" shortname="performFFtakeoff"/>
				<dl_setting var="FFtime" min="0" step="0.1" max="2" module="titusmodule/titusmodule" shortname="FFtime"/>
				<dl_setting var="FFfactor" min="1" step="0.1" max="2" module="titusmodule/titusmodule" shortname="FFfactor"/>
				
				<dl_setting var="performXY" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Off|On" shortname="performXY"/>
				<dl_setting var="performZ" min="0" step="1" max="1" module="titusmodule/titusmodule" values="Off|On" shortname="performZ"/>
				
				<dl_setting var="covZthreshold" min="0" step="0.001" max="1" module="titusmodule/titusmodule" shortname="covZthreshold"/>
				<dl_setting var="covXthreshold" min="0" step="100" max="9000000" module="titusmodule/titusmodule" shortname="covXthreshold"/>
				<dl_setting var="covYthreshold" min="0" step="100" max="9000000" module="titusmodule/titusmodule" shortname="covYthreshold"/>
				
				<dl_setting var="startPusedZ" min="0" step="0.01" max="1" module="titusmodule/titusmodule" shortname="startPusedZ"/>
				<dl_setting var="rampZ" min="0" step="0.01" max="1" module="titusmodule/titusmodule" shortname="rampZ"/>
				
				<dl_setting var="startPusedX" min="0" step="0.01" max="1" module="titusmodule/titusmodule" shortname="startPusedX"/>
				<dl_setting var="rampX" min="0" step="0.01" max="1" module="titusmodule/titusmodule" shortname="rampX"/>
				<dl_setting var="startPusedY" min="0" step="0.01" max="1" module="titusmodule/titusmodule" shortname="startPusedY"/>
				<dl_setting var="rampY" min="0" step="0.01" max="1" module="titusmodule/titusmodule" shortname="rampY"/>
			</dl_settings>
		</dl_settings>
	</settings>

	<header>
		<file name="titusmodule.h" />
	</header>

	<init fun="titusmodule_init()" />
	<periodic fun="titusmodule_periodic()" start="titusmodule_start()"
		stop="titusmodule_stop()" autorun="FALSE" />

	<makefile target="ap">
		<file name="titusmodule.c" />
	</makefile>
</module>

